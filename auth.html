<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Sign in / Sign up â€” NutriVoice</title>
    <link rel="stylesheet" href="auth-style.css" />
    <!-- Supabase JS (UMD) -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js/dist/umd/supabase.min.js"></script>
    <script src="auth-config.js"></script>
  </head>
  <body>
    <div class="auth-wrapper">
      <div class="auth-card">
        <div class="auth-hero">
          <h2>Welcome to NutriVoice</h2>
          <p>Secure sign in and sign up using Supabase (email + password). After signing in you'll be redirected to the app.</p>
          <div style="margin-top:auto">
            <p class="small">Need help integrating Supabase keys? See README or open <code>auth-config.js</code> and paste your project URL + anon key.</p>
          </div>
        </div>

        <div class="auth-form">
          <div class="tabs" role="tablist">
            <div class="tab active" id="tab-signin">Sign in</div>
            <div class="tab" id="tab-signup">Sign up</div>
          </div>

          <div id="form-container">
            <!-- Sign in form -->
            <form id="signin-form">
              <div class="form-group">
                <label for="signin-email">Email</label>
                <input id="signin-email" type="email" required autocomplete="email" />
              </div>
              <div class="form-group">
                <label for="signin-password">Password</label>
                <input id="signin-password" type="password" required autocomplete="current-password" />
              </div>
              <div class="form-actions">
                <button class="btn btn-primary" type="submit">Sign in</button>
                <button type="button" id="to-reset" class="btn btn-ghost">Forgot password</button>
              </div>
            </form>

            <!-- Sign up form -->
            <form id="signup-form" style="display:none">
              <div class="form-group">
                <label for="signup-email">Email</label>
                <input id="signup-email" type="email" required autocomplete="email" />
              </div>
              <div class="form-group">
                <label for="signup-password">Password</label>
                <input id="signup-password" type="password" required autocomplete="new-password" />
              </div>
              <div class="form-actions">
                <button class="btn btn-primary" type="submit">Create account</button>
                <button type="button" id="to-signin" class="btn btn-ghost">Back to sign in</button>
              </div>
            </form>

            <!-- Reset password form -->
            <form id="reset-form" style="display:none">
              <div class="form-group">
                <label for="reset-email">Enter your email to receive a password reset link</label>
                <input id="reset-email" type="email" required autocomplete="email" />
              </div>
              <div class="form-actions">
                <button class="btn btn-primary" type="submit">Send reset link</button>
                <button type="button" id="reset-back" class="btn btn-ghost">Back</button>
              </div>
            </form>

            <div id="status" aria-live="polite"></div>

            <div class="hr"></div>

            <div id="signed-in-panel" style="display:none">
              <div class="signed-in">
                <div>
                  <strong id="user-email"></strong>
                  <div class="small">Signed in</div>
                </div>
                <div style="margin-left:auto">
                  <button id="btn-logout" class="btn btn-ghost">Sign out</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="auth.js"></script>
  </body>
</html>
